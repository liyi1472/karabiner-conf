{
  "title": "输入法完美切换",
  "rules": [
    { "description": "左Command => 日语输入法 (vs) 右Command => 中文输入法",
      "manipulators": [
        { "type": "basic",
          "from": { "key_code": "left_command",
                    "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command" } ],
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "conditions": [ { "type": "frontmost_application_unless",
                            "bundle_identifiers": [     "^com\\.parallels\\.desktop$",
                                                        "^com\\.parallels\\.vm$",
                                                        "^com\\.parallels\\.desktop\\.console$",
                                                        "^com\\.parallels\\.winapp\\.",
                                                        "^com\\.vmware\\.fusion$",
                                                        "^com\\.vmware\\.horizon$",
                                                        "^com\\.vmware\\.view$",
                                                        "^com\\.vmware\\.proxyApp\\.",
                                                        "^org\\.virtualbox\\.app\\.VirtualBoxVM$" ] } ] },
        { "type": "basic",
          "from": { "key_code": "right_command",
                    "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "right_command" } ],
          "to_if_alone": [ { "select_input_source": { "language": "zh-Hans" } } ],
          "conditions": [ { "type": "frontmost_application_unless",
                            "bundle_identifiers": [     "^com\\.parallels\\.desktop$",
                                                        "^com\\.parallels\\.vm$",
                                                        "^com\\.parallels\\.desktop\\.console$",
                                                        "^com\\.parallels\\.winapp\\.",
                                                        "^com\\.vmware\\.fusion$",
                                                        "^com\\.vmware\\.horizon$",
                                                        "^com\\.vmware\\.view$",
                                                        "^com\\.vmware\\.proxyApp\\.",
                                                        "^org\\.virtualbox\\.app\\.VirtualBoxVM$" ] } ] },
        { "type": "basic",
          "from": { "key_code": "left_command",
                "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command" } ],
          "to_if_alone": [ { "key_code": "1",
          "modifiers": ["left_shift", "left_command"] } ],
          "conditions": [ { "type": "frontmost_application_if",
                            "bundle_identifiers": [     "^com\\.parallels\\.desktop$",
                                                        "^com\\.parallels\\.vm$",
                                                        "^com\\.parallels\\.desktop\\.console$",
                                                        "^com\\.parallels\\.winapp\\.",
                                                        "^com\\.vmware\\.fusion$",
                                                        "^com\\.vmware\\.horizon$",
                                                        "^com\\.vmware\\.view$",
                                                        "^com\\.vmware\\.proxyApp\\.",
                                                        "^org\\.virtualbox\\.app\\.VirtualBoxVM$" ] } ] },
       { "type": "basic",
         "from": { "key_code": "right_command",
                   "modifiers": { "optional": [ "any" ] } },
         "to": [ { "key_code": "left_command" } ],
         "to_if_alone": [ { "key_code": "2",
         "modifiers": ["left_shift", "left_command"] } ],
        "conditions": [ { "type": "frontmost_application_if",
                         "bundle_identifiers": [        "^com\\.parallels\\.desktop$",
                                                        "^com\\.parallels\\.vm$",
                                                        "^com\\.parallels\\.desktop\\.console$",
                                                        "^com\\.parallels\\.winapp\\.",
                                                        "^com\\.vmware\\.fusion$",
                                                        "^com\\.vmware\\.horizon$",
                                                        "^com\\.vmware\\.view$",
                                                        "^com\\.vmware\\.proxyApp\\.",
                                                        "^org\\.virtualbox\\.app\\.VirtualBoxVM$" ] } ] }
        ]
    }
]
}
